{"ast":null,"code":"var _jsxFileName = \"C:\\\\laragon\\\\www\\\\laravel-react-ecommerce-dashboard\\\\ecom-dashboard\\\\src\\\\UpdateProducts.js\",\n  _s = $RefreshSig$();\nimport Header from \"./Header\";\nimport { withRouter } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UpdateProducts(props) {\n  _s();\n  const [name, setName] = useState(\"\");\n  const [file, setFile] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const history = useHistory();\n  console.warn(\"props\", props.match.params.id);\n  const [data, setData] = useState([]);\n  useEffect(async () => {\n    let result = await fetch(\"http://localhost:8000/api/product/\" + props.match.params.id);\n    result = await result.json();\n    setData(result);\n    setName(result.name);\n    setPrice(result.price);\n    setDescription(result.description);\n    setFile(result.file);\n  }, []);\n  async function editProduct(id) {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"price\", price);\n    formData.append(\"name\", name);\n    formData.append(\"description\", description);\n    let result = await fetch(\"http://localhost:8000/api/updateproduct/\" + id + \"?_method=PUT\", {\n      method: \"POST\",\n      body: formData\n    });\n    alert(\"Product has been updated!\");\n    history.push(\"/\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Update Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-sm-6 offset-sm-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        type: \"text\",\n        defaultValue: data.name,\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        type: \"text\",\n        defaultValue: data.price,\n        onChange: e => setPrice(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        type: \"text\",\n        defaultValue: data.description,\n        onChange: e => setDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        type: \"file\",\n        defaultValue: data.file_path,\n        onChange: e => setFile(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        width: \"50%\",\n        height: \"50%\",\n        src: \"http://localhost:8000/\" + data.file_path\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: () => editProduct(data.id),\n        children: \"Update Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(UpdateProducts, \"FBGK3aPh3SjegoFm6UQFWUvD2Ek=\", false, function () {\n  return [useHistory];\n});\n_c = UpdateProducts;\nexport default _c2 = withRouter(UpdateProducts);\nvar _c, _c2;\n$RefreshReg$(_c, \"UpdateProducts\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["Header","withRouter","useState","useEffect","useHistory","jsxDEV","_jsxDEV","UpdateProducts","props","_s","name","setName","file","setFile","price","setPrice","description","setDescription","history","console","warn","match","params","id","data","setData","result","fetch","json","editProduct","formData","FormData","append","method","body","alert","push","children","fileName","_jsxFileName","lineNumber","columnNumber","className","type","defaultValue","onChange","e","target","value","file_path","files","width","height","src","onClick","_c","_c2","$RefreshReg$"],"sources":["C:/laragon/www/laravel-react-ecommerce-dashboard/ecom-dashboard/src/UpdateProducts.js"],"sourcesContent":["import Header from \"./Header\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction UpdateProducts(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [file, setFile] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  console.warn(\"props\", props.match.params.id);\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(async () => {\r\n    let result = await fetch(\r\n      \"http://localhost:8000/api/product/\" + props.match.params.id\r\n    );\r\n    result = await result.json();\r\n    setData(result);\r\n    setName(result.name);\r\n    setPrice(result.price);\r\n    setDescription(result.description);\r\n    setFile(result.file);\r\n  }, []);\r\n\r\n  async function editProduct(id) {\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    formData.append(\"price\", price);\r\n    formData.append(\"name\", name);\r\n    formData.append(\"description\", description);\r\n    let result = await fetch(\r\n      \"http://localhost:8000/api/updateproduct/\" + id + \"?_method=PUT\",\r\n      {\r\n        method: \"POST\",\r\n        body: formData,\r\n      }\r\n    );\r\n    alert(\"Product has been updated!\");\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <h1>Update Products</h1>\r\n      <div className=\"col-sm-6 offset-sm-3\">\r\n        <br />\r\n        <input\r\n          className=\"form-control\"\r\n          type=\"text\"\r\n          defaultValue={data.name}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <input\r\n          className=\"form-control\"\r\n          type=\"text\"\r\n          defaultValue={data.price}\r\n          onChange={(e) => setPrice(e.target.value)}\r\n        />\r\n        <input\r\n          className=\"form-control\"\r\n          type=\"text\"\r\n          defaultValue={data.description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n        <input\r\n          className=\"form-control\"\r\n          type=\"file\"\r\n          defaultValue={data.file_path}\r\n          onChange={(e) => setFile(e.target.files[0])}\r\n        />\r\n        <br />\r\n        <img\r\n          width=\"50%\"\r\n          height=\"50%\"\r\n          src={\"http://localhost:8000/\" + data.file_path}\r\n        />{\" \"}\r\n        <br />\r\n        <br />\r\n        <button className=\"btn btn-danger\" onClick={() => editProduct(data.id)}>\r\n          Update Product\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default withRouter(UpdateProducts);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}